<!DOCTYPE html>
<html>
<head>
    <title>TV Show Episodes</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h1>TV Show Episodes</h1>
        <div class="row" id="shows">
            <!-- Movie cards will be dynamically generated here -->
        </div>
    </div>

    <!-- Episode Modal -->
    <div class="modal fade" id="episodeModal" tabindex="-1" role="dialog" aria-labelledby="episodeModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="episodeModalLabel">Episode List</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="episode-list">
                    <!-- Episode buttons will be dynamically generated here -->
                </div>
            </div>
        </div>
    </div>
    <!-- End Episode Modal -->
    <script>
        const showsData = [
        {
    "title": "Sweet Tooth",
    "format": "1",
    "href": "https://mobifliks.info/downloadserie.php?file=luganda/sweettooth/SWEET TOOTH 1.mp4" ,
    "seasons": [
            {
                "seasonNumber": 1,
                "episodeCount": 8
            }
        ],
        "vjName": "",
        "thumbnail": "Sweet20Tooth202021.jpgh380w250atzc1.jpg"
  },
  {
    "title": "The Brave",
     "format": "1",
    "href": "https://mobifliks.info/downloadserie.php?file=luganda/thebrave/The Brave_01_1.mp4" ,
    "seasons": [
            {
                "seasonNumber": 1,
                "episodeCount": 16
            }
        ],
        "vjName": "",
        "thumbnail": "The20Brave202017.jpgh380w250atzc1.jpg"
  },
  {
    "title": "24 Japan",
     "format": "1",
    "href": "https://mobifliks.info/downloadserie.php?file=luganda/24Japan/24 JAPAN 1.mp4" ,
    "seasons": [
            {
                "seasonNumber": 1,
                "episodeCount": 14
            }
        ],
        "vjName": "Vj Sammy",
        "thumbnail": "2420JAPAN.jpgh380w250atzc1.jpg"
  },
  {
    "title": "Wu Assassins",
    "format": "1",
    "href": "https://mobifliks.info/downloadserie.php?file=luganda/wuassasins/Wu Assassins_1.mp4" ,
    "seasons": [
            {
                "seasonNumber": 1,
                "episodeCount": 10
            }
        ],
        "vjName": "",
        "thumbnail": "Wu20Assassins202019-.jpgh380w250atzc1.jpg"
  },
  {
    "title": "Walk Into Your Memory",
    "format": "1",
    "href": "https://mobifliks.info/downloadserie.php?file=luganda/WalkIntoYourMemory/WALK INTO YOUR MEMORY 1.mp4" ,
    "seasons": [
            {
                "seasonNumber": 1,
                "episodeCount": 24
            }
        ],
        "vjName": "",
        "thumbnail": "WalkIntoYourMemory.jpgh380w250atzc1.jpg"
  },         ];

        function generateEpisodeLinks(show, season) {
            const episodesDiv = document.getElementById('episode-list');
            episodesDiv.innerHTML = '';

            for (let episodeNumber = 1; episodeNumber <= season.episodeCount; episodeNumber++) {
                const episodeLink = show.href.replace(/\s/g, '%20').replace(/\/([^\/]*)$/, `/${show.title.replace(/\s/g, '%20')}/${show.title.replace(/\s/g, '%20')} ${episodeNumber}.mp4`);

                const episodeLinkText = document.createElement('p');
                episodeLinkText.innerHTML = `<a href="${episodeLink}" target="_blank">Episode ${episodeNumber}</a>`;
                episodesDiv.appendChild(episodeLinkText);
            }
        }

        const showsDiv = document.getElementById('shows');
        for (let i = 0; i < showsData.length; i++) {
            const show = showsData[i];

            const movieCard = document.createElement('div');
            movieCard.className = 'col-md-4 mb-4';

            const cardTemplate = `
                <div class="card">
                    <img src="${show.thumbnail}" class="card-img-top" alt="${show.title} Thumbnail">
                    <div class="card-body">
                        <h5 class="card-title">${show.title}</h5>
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#episodeModal" onclick="generateEpisodeLinks(showsData[${i}], showsData[${i}].seasons[0])">
                            View Episodes
                        </button>
                    </div>
                </div>
            `;

            movieCard.innerHTML = cardTemplate;
            showsDiv.appendChild(movieCard);
        }
    </script>
</body>
</html>
